<div class="container my-5">

    <!-- Page Title -->
    <h2 class="text-center mb-3">API Demo & Documentation</h2>
    <p class="text-center text-muted">
        Use the Auth tab to obtain a JWT token, then test Customers, Cars, and Orders API endpoints.
    </p>

    <!-- Active Token -->
    <div id="tokenCard" class="card mb-4">
        <div class="card-body">

            <div class="mb-3">
                <strong>Access Token:</strong>
                <code id="activeToken" style="
                    white-space: normal;
                    word-break: break-all;
                    display: block;
                    background: #f8f9fa;
                    padding: 8px;
                    border-radius: 6px;
                    border: 1px solid #e1e1e1;
                ">No access token</code>
            </div>

            <div class="mb-3">
                <strong>Refresh Token:</strong>
                <code id="refreshTokenDisplay" style="
                    white-space: normal;
                    word-break: break-all;
                    display: block;
                    background: #f8f9fa;
                    padding: 8px;
                    border-radius: 6px;
                    border: 1px solid #e1e1e1;
                ">No refresh token</code>
            </div>

            <div id="tokenRefreshedBadge" style="
                display: none;
                margin-top: 10px;
                padding: 6px 12px;
                border-radius: 6px;
                color: white;
                font-weight: 600;
                width: fit-content;
            ">
                Token refreshed!
            </div>


            <div class="text-end">
                <button class="btn btn-sm btn-success" onclick="copyAccessToken()">Copy Access</button>

                <button class="btn btn-sm btn-primary ms-2" onclick="copyRefreshToken()">Copy Refresh</button>
                <button class="btn btn-sm btn-outline-danger ms-2" onclick="clearToken()">Clear</button>
            </div>

        </div>
    </div>


    {% comment %} {% include "demo/api/api_response_panels.html" %} {% endcomment %}

    <!-- Tabs -->
    <ul class="nav nav-tabs" id="apiTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active"
                    id="auth-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#auth"
                    type="button"
                    role="tab">
                Auth
            </button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link"
                    id="customers-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#customers"
                    type="button"
                    role="tab">
                Customers
            </button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link"
                    id="cars-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#cars"
                    type="button"
                    role="tab">
                Cars
            </button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link"
                    id="orders-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#orders"
                    type="button"
                    role="tab">
                Orders
            </button>
        </li>
    </ul>

    <!-- Tab Content -->
    <div class="tab-content mt-3">

        <!-- Auth Tab -->
        <div class="tab-pane fade show active" id="auth" role="tabpanel">
            {% include "demo/api/api_auth.html" %}
        </div>

        <!-- Customers Tab -->
        <div class="tab-pane fade" id="customers" role="tabpanel">
            {% include "demo/api/api_customers.html" %}
        </div>

        <!-- Cars Tab -->
        <div class="tab-pane fade" id="cars" role="tabpanel">
            {% include "demo/api/api_cars.html" %}
        </div>

        <!-- Orders Tab -->
        <div class="tab-pane fade" id="orders" role="tabpanel">
            {% include "demo/api/api_orders.html" %}
        </div>

    </div>


    <!-- Shared Modals -->
    {% include "demo/api/api_modals.html" %}

</div>

<!-- Shared Scripts -->
{% include "demo/api/api_scripts.html" %}
